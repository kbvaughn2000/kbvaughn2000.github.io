<div class="operator-page">
    <div class="title-wrapper">
        <h1 class="terminal-title">PENETRATION_TESTING CHECKLIST</h1>
    </div>

    <div class="operator-shell">
        <div class="shell-header">
            <div class="input-row">
                <div class="field">
                    <label>LHOST (ATTACKER)</label>
                    <input type="text" id="lhost-input" placeholder="10.10.14.x" onkeyup="runUpdate()">
                </div>
                <div class="field">
                    <label>LPORT</label>
                    <input type="text" id="lport-input" placeholder="443" onkeyup="runUpdate()">
                </div>
                <div class="field">
                    <label>RHOST (TARGET)</label>
                    <input type="text" id="rhost-input" placeholder="10.10.10.x" onkeyup="runUpdate()">
                </div>
                <div class="field">
                    <label>RPORT</label>
                    <input type="text" id="rport-input" placeholder="80" onkeyup="runUpdate()">
                </div>
            </div>

            <div class="input-row">
                <div class="field">
                    <label>PLATFORM_TYPE</label>
                    <select id="os-filter" onchange="runUpdate()">
                        <option value="all">ALL_PLATFORMS</option>
                        <option value="linux">LINUX_OS</option>
                        <option value="windows">WINDOWS_OS</option>
                        <option value="apps">WEB_APPS</option>
                    </select>
                </div>
                <div class="field">
                    <label>SERVICE_TYPE</label>
                    <select id="service-filter" onchange="runUpdate()">
                        <option value="all">ALL_SERVICES</option>
                        <option value="http">HTTP/WEB</option>
                        <option value="ad">SMB/AD</option>
                        <option value="mssql">MSSQL</option>
                        <option value="ssh">SSH</option>
                    </select>
                </div>
                <div class="field" style="flex: 2;">
                    <label>SEARCH_TASKS</label>
                    <input type="text" id="search-input" placeholder="Filter tasks..." onkeyup="runUpdate()">
                </div>
            </div>

            <div class="input-row toggle-row" style="margin-top: 10px; gap: 30px;">
                <label class="toggle-label">
                    <input type="checkbox" id="cmd-toggle" checked onchange="runUpdate()"> 
                    <span>SHOW_COMMANDS</span>
                </label>
                <label class="toggle-label">
                    <input type="checkbox" id="priority-toggle" onchange="runUpdate()"> 
                    <span class="critical-text">CRITICAL_ONLY</span>
                </label>
            </div>
        </div>

        <div style="margin: 25px 0; padding: 20px; border: 1px dashed rgba(var(--primary-rgb), 0.3);">
            <label style="font-weight:bold">NMAP_RESULTS_INGESTOR</label>
            <textarea id="nmap-input" placeholder="Paste Nmap output here..." style="height:80px;"></textarea>
            <div style="display:flex; gap:10px; margin-top:10px;">
                <button onclick="analyzeNmap()" class="term-btn" style="flex:2;">RUN_HEURISTIC_ANALYSIS</button>
                <button onclick="document.getElementById('nmap-input').value='';runUpdate();" class="term-btn" style="flex:1; opacity:0.6;">CLEAR</button>
            </div>
        </div>

        <div id="checklist-render"></div>

        <div style="margin-top: 50px; border-top: 1px solid #222; padding-top: 20px;">
            <button onclick="clearProgress()" class="term-btn" style="font-size:0.7rem;">WIPE_SESSION_DATA</button>
        </div>
    </div>
</div>

<div id="copy-toast">COMMAND_COPIED</div>

<script src="/js/masterdata.js"></script>
<script src="/js/operator.js"></script>

<script>
    window.addEventListener('load', function() {
        if (typeof runUpdate === "function") {
            runUpdate();
        }
    });
</script>
